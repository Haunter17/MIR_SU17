# Benchmark Tools for Representations

## Overview
The purpose of this set of benchmark tools is to help analyze the performace of different representations of an album track.
There are three major scripts for running the tool:

* [benchmarkDriver.m](https://github.com/Haunter17/MIR_SU17/blob/master/exp7/benchmark/benchmarkDriver.m)
* [statPlot.py](https://github.com/Haunter17/MIR_SU17/blob/master/exp7/benchmark/statPlot.py)
* [matchPctPlot.py](https://github.com/Haunter17/MIR_SU17/blob/master/exp7/benchmark/matchPctPlot.py)

## Calling the benchmark driver
The benchmark driver first computes the CQT coefficients for all audio tracks provided, and it learns the filters (model) for different representations, which is used for benchmark analysis. Then, it computes the representation on an arbitrarily chosen song with the clean album track and different distorted versions. Next, it generates a report that contains
* correlation statistics for each bit in the representation for the clean album track
* percentage of ones for each bit in the representation for the clean album track
* percentage of bits that match between each distorted and the clean version

The benchmark driver will request the following user input:

1. Flag number for the representation (1 = hashprint, 2 = randomized, 3 = AE ...)

2. Name of the model file to write and read (without including ".mat")

3. Name of the output file to dump the report (without including ".out")


For instance, to call the autoencoder representation with the model file `AE_relu.mat` and output file `AE_relu_test.out`, the combination of user input will be "3, AE_relu, AE_relu_test".


Notice that the list of representations handled by the driver is not complete yet. So far, this driver only supports the three categories of representations listed above. We will include MLP, CNN representations soon.

## Plotting correlation and bit statistics
The python script [statPlot.py](https://github.com/Haunter17/MIR_SU17/blob/master/exp7/benchmark/statPlot.py) helps visualize the bit correlation and percentage statistics. Enter the following command in terminal to generate plots for the statistics:

```
  python3 statPlot.py <correlation_list> <pct_of_ones_list>
```

where the correlation and bit percentage statistics can be obtained from the `.out` file generated by the benchmark driver.

Notice that the lists have to be passed in as strings, with each element separated by a comma. An example call to the script is shown as following:

```
  python3 statPlot.py '0.66, 0.67, 0.35, ... , 0.65' '0.49, 0.51, 0.55, ... , 0.48'
```

## Plotting bit matching statistics
The python script [matchPctPlot.py](https://github.com/Haunter17/MIR_SU17/blob/master/exp7/benchmark/matchPctPlot.py) helps visualize the bit matching statistics between the clean and different distorted versions. Enter the following command in terminal to generate plots for bit matching:

```
  python3 matchPctPlot.py <number_of_representations> <list_of_representation_names> <list_1> <list_2> ... <list_n>
```
where
*  `<number_of_representations>` is the number of different representations to include in the plot
* `<list_of_representation_names>` is the list of the names for the representations
* `<list_1> <list_2> ... <list_n>` refers to the lists of bit matching statistics for each representation, which can be obtained from the `.out` file generated by the benchmark driver

Notice that 
* all lists have to be passed in as string, in which each element is separated by a comma
* the order of the lists of statistics has to be consistent with the order of the names passed into `<list_of_representation_names>`

For example, we can compare three different representations with

```
  python3 matchPctPlot.py 3 'hashprint, randomized, AE' '0.65, 0.47, ..., 0.99' '0.68, 0.44, ..., 0.96' '0.66, 0.49, ..., 0.98'
```
